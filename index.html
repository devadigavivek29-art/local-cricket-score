<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Local Cricket Score</title>

<style>
body {
  font-family: Arial;
  padding: 20px;
  background: #f4f4f4;
}
.card {
  background: white;
  padding: 15px;
  margin-bottom: 15px;
  border-radius: 8px;
}
button {
  padding: 10px;
  margin: 5px;
  font-size: 16px;
}
h2 { margin-top: 0; }
</style>
</head>

<body>

<div class="card">
  <h2>üèè Start Match</h2>
  Overs:
  <input type="number" id="totalOvers" value="5">
  <br><br>
  <button onclick="startMatch()">Start Match</button>
</div>

<div class="card" id="live" style="display:none">
  <h2>Live Score</h2>
  <p><b>Score:</b> <span id="score">0</span>/<span id="wickets">0</span></p>
  <p><b>Overs:</b> <span id="overs">0.0</span></p>

  <button onclick="addRun(0)">0</button>
  <button onclick="addRun(1)">1</button>
  <button onclick="addRun(2)">2</button>
  <button onclick="addRun(4)">4</button>
  <button onclick="addRun(6)">6</button>
  <button onclick="addWicket()">Wicket</button>
  <br>
  <button onclick="undo()">Undo</button>
</div>

<div class="card" id="result" style="display:none">
  <h2>Match Ended</h2>
  <p>Final Score: <span id="finalScore"></span></p>
</div>

<script>
let runs = 0;
let wickets = 0;
let balls = 0;
let totalOvers = 0;
let history = [];

function startMatch() {
  totalOvers = document.getElementById("totalOvers").value;
  document.getElementById("live").style.display = "block";
}

function addRun(r) {
  saveState();
  runs += r;
  balls++;
  update();
}

function addWicket() {
  saveState();
  wickets++;
  balls++;
  update();
}

function update() {
  let overs = Math.floor(balls / 6) + "." + (balls % 6);
  document.getElementById("score").innerText = runs;
  document.getElementById("wickets").innerText = wickets;
  document.getElementById("overs").innerText = overs;

  if (Math.floor(balls / 6) >= totalOvers || wickets == 10) {
    endMatch();
  }
}

function saveState() {
  history.push({ runs, wickets, balls });
}

function undo() {
  if (history.length > 0) {
    let last = history.pop();
    runs = last.runs;
    wickets = last.wickets;
    balls = last.balls;
    update();
  }
}

function endMatch() {
  document.getElementById("live").style.display = "none";
  document.getElementById("result").style.display = "block";
  document.getElementById("finalScore").innerText =
    runs + "/" + wickets + " in " + totalOvers + " overs";
}
</script>

</body>
</html>
